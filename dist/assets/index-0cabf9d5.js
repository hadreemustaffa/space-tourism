(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function s(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function a(o){if(o.ep)return;o.ep=!0;const r=s(o);fetch(o.href,r)}})();const E=document.querySelector("main"),g=document.getElementById("navToggle"),S=document.getElementById("navigation-list"),x=document.querySelectorAll(".list__item-link");async function q(){const n="dataCache",t=localStorage.getItem(n);if(t)return JSON.parse(t);try{const s=await fetch("/space-tourism/data.json");if(!s.ok)throw new Error("Network response was not ok");const a=await s.json();return localStorage.setItem(n,JSON.stringify(a)),console.log("Fetched and cached new data"),a}catch(s){return console.error("Failed to fetch data:",s),null}}let m;const A=n=>{const t=document.getElementById(`${n}`);E.classList.contains(`container--${n}`)&&(t.classList.add("active"),m=n)};x.forEach(n=>{A(n.id)});g.addEventListener("click",()=>{g.getAttribute("aria-expanded")==="true"?(g.setAttribute("aria-expanded","false"),S.removeAttribute("opened")):(g.setAttribute("aria-expanded","true"),S.setAttribute("opened",""))});x.forEach(n=>{n.addEventListener("click",()=>{n.classList.add("active")})});const _=n=>{const t=document.querySelector("[aria-selected='true']");t==null||t.setAttribute("aria-selected","false"),t.setAttribute("tabindex","-1"),n.setAttribute("aria-selected","true"),n.setAttribute("tabindex","0")},y=n=>{n.forEach(t=>{t.classList.add("fade-in"),t.addEventListener("animationend",()=>{t.classList.remove("fade-in")})})},v=await q();if(v&&m!="home"){const n=document.querySelector(".container__description"),t=document.querySelector(".container__item"),s=t.querySelector("picture source"),a=t.querySelector("img"),o=document.querySelector("[role='tablist']"),r=o.querySelectorAll("[role='tab']"),i=document.querySelector("[role='tabpanel']"),h=document.querySelector(".container__text-name"),{destination:l,crew:u,technology:f}=v,p=()=>{_(r[e]);const c=d=>new URL(`${d}`,import.meta.url).href;if(m==="destination"){const d=document.querySelector(".container__destination"),L=document.querySelector(".container__distance p"),w=document.querySelector(".container__travel-time p");s.srcset=c(l[e].images.webp),a.src=c(l[e].images.png),d.textContent=l[e].name,n.textContent=l[e].description,L.textContent=l[e].distance,w.textContent=l[e].travel}if(m==="crew"){const d=document.querySelector(".container__text-title");s.srcset=c(u[e].images.webp),a.src=c(u[e].images.png),d.textContent=u[e].role,h.textContent=u[e].name,n.textContent=u[e].bio}m==="technology"&&(s.srcset=c(f[e].images.portrait),a.src=c(f[e].images.landscape),h.textContent=f[e].name,n.textContent=f[e].description)};let e=0;const b=c=>{c.key==="ArrowRight"&&(e===r.length-1?e=0:e++,p(),y([i,t])),c.key==="ArrowLeft"&&(e===0?e=r.length-1:e--,p(),y([i,t]))};r.forEach((c,d)=>{c.addEventListener("click",()=>{e=d,p(),y([i,t])})}),o.addEventListener("keydown",c=>{b(c),r[e].focus()}),i.addEventListener("keydown",c=>{b(c)})}
