(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function s(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function a(o){if(o.ep)return;o.ep=!0;const r=s(o);fetch(o.href,r)}})();const q=document.querySelector("main"),g=document.getElementById("navToggle"),S=document.getElementById("navigation-list"),v=document.querySelectorAll(".list__item-link");async function A(){const t="dataCache",n=localStorage.getItem(t);if(n)return JSON.parse(n);try{const s=await fetch("/space-tourism/data.json");if(!s.ok)throw new Error("Network response was not ok");const a=await s.json();return localStorage.setItem(t,JSON.stringify(a)),console.log("Fetched and cached new data"),a}catch(s){return console.error("Failed to fetch data:",s),null}}let m;const E=t=>{const n=document.getElementById(`${t}`);q.classList.contains(`container--${t}`)&&(n.classList.add("active"),m=t)};v.forEach(t=>{E(t.id)});g.addEventListener("click",()=>{g.getAttribute("aria-expanded")==="true"?(g.setAttribute("aria-expanded","false"),S.removeAttribute("opened")):(g.setAttribute("aria-expanded","true"),S.setAttribute("opened",""))});v.forEach(t=>{t.addEventListener("click",()=>{t.classList.add("active")})});const _=t=>{const n=document.querySelector("[aria-selected='true']");n==null||n.setAttribute("aria-selected","false"),n.setAttribute("tabindex","-1"),t.setAttribute("aria-selected","true"),t.setAttribute("tabindex","0")},y=t=>{t.forEach(n=>{n.classList.add("fade-in"),n.onanimationend=function(){this.classList.remove("fade-in")}})},x=await A();if(x&&m!="home"){const t=document.querySelector(".container__description"),n=document.querySelector(".container__item"),s=n.querySelector("picture source"),a=n.querySelector("img"),o=document.querySelector("[role='tablist']"),r=o.querySelectorAll("[role='tab']"),i=document.querySelector("[role='tabpanel']"),h=document.querySelector(".container__text-name"),{destination:l,crew:u,technology:f}=x,p=()=>{_(r[e]);const c=d=>new URL(`${d}`,import.meta.url).href;if(m==="destination"){const d=document.querySelector(".container__destination"),w=document.querySelector(".container__distance p"),L=document.querySelector(".container__travel-time p");s.srcset=c(l[e].images.webp),a.src=c(l[e].images.png),d.textContent=l[e].name,t.textContent=l[e].description,w.textContent=l[e].distance,L.textContent=l[e].travel}if(m==="crew"){const d=document.querySelector(".container__text-title");s.srcset=c(u[e].images.webp),a.src=c(u[e].images.png),d.textContent=u[e].role,h.textContent=u[e].name,t.textContent=u[e].bio}m==="technology"&&(s.srcset=c(f[e].images.portrait),a.src=c(f[e].images.landscape),h.textContent=f[e].name,t.textContent=f[e].description)};let e=0;const b=c=>{c.key==="ArrowRight"&&(e===r.length-1?e=0:e++,p(),y([i,n])),c.key==="ArrowLeft"&&(e===0?e=r.length-1:e--,p(),y([i,n]))};r.forEach((c,d)=>{c.addEventListener("click",()=>{e=d,p(),y([i,n])})}),o.addEventListener("keydown",c=>{b(c),r[e].focus()}),i.addEventListener("keydown",c=>{b(c)})}
